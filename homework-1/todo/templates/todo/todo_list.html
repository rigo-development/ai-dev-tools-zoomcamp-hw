<!DOCTYPE html>
<html>
<head>
    <title>Todo List</title>
</head>
<body>
    <h1>Todo List</h1>
    <a href="{% url 'todo_create' %}">Add New Todo</a>
    <ul>
        {% for todo in todos %}
        <li>
            <strong>{{ todo.title }}</strong>
            {% if todo.completed %}
                <span style="color: green;">(Completed)</span>
            {% else %}
                <span style="color: red;">(Pending)</span>
            {% endif %}
            {% if todo.due_date %}
                Due: {{ todo.due_date }}
            {% endif %}
            <a href="{% url 'todo_update' todo.pk %}">Edit</a>
            <a href="{% url 'todo_delete' todo.pk %}">Delete</a>
            <form method="post" action="{% url 'todo_toggle_complete' todo.pk %}" style="display: inline;">
                {% csrf_token %}
                <button type="submit">
                    {% if todo.completed %}Mark Incomplete{% else %}Mark Complete{% endif %}
                </button>
            </form>
        </li>
        {% endfor %}
    </ul>
</body>
</html>